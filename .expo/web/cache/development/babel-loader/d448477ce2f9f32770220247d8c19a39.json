{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useContext, useState } from 'react';\nimport { supabase } from \"../../utils/supabase\";\nimport { UserContext } from \"../../contexts/userContext\";\nimport OutlinedButton from \"../Buttons/OutlinedButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar THEME = '#3F3F3F';\n\nvar ProfileForm = function ProfileForm(_ref) {\n  var onPressHandler = _ref.onPressHandler;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      details = _useState2[0],\n      setDetails = _useState2[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var onUpdateHandler = function _callee() {\n    var _await$supabase$from$, error, data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(supabase.from('users').upsert({\n              status: details,\n              id: user.id\n            }));\n\n          case 2:\n            _await$supabase$from$ = _context.sent;\n            error = _await$supabase$from$.error;\n            data = _await$supabase$from$.data;\n            onPressHandler();\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Update your status!\"\n    }), _jsx(TextInput, {\n      style: styles.additionalDetails,\n      placeholder: \"About me: looking for mj kaki\",\n      value: details,\n      onChangeText: setDetails,\n      selectionColor: THEME\n    }), _jsxs(View, {\n      style: styles.buttons,\n      children: [_jsx(OutlinedButton, {\n        icon: \"pencil\",\n        onPress: onUpdateHandler,\n        children: \"Update \"\n      }), _jsx(OutlinedButton, {\n        icon: \"close\",\n        onPress: onPressHandler,\n        children: \"Cancel\"\n      })]\n    })]\n  });\n};\n\nexport default ProfileForm;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    height: '100%',\n    justifyContent: 'center'\n  },\n  title: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 100,\n    paddingBottom: 20\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'space-evenly'\n  },\n  additionalDetails: {\n    alignSelf: 'center',\n    borderWidth: 2,\n    borderColor: THEME,\n    borderRadius: 4,\n    width: '80%',\n    height: 120,\n    paddingHorizontal: 8,\n    marginBottom: 10\n  }\n});","map":{"version":3,"names":["useContext","useState","supabase","UserContext","OutlinedButton","THEME","ProfileForm","onPressHandler","details","setDetails","user","onUpdateHandler","from","upsert","status","id","error","data","styles","container","title","additionalDetails","buttons","StyleSheet","create","backgroundColor","height","justifyContent","alignItems","marginLeft","paddingBottom","flexDirection","alignSelf","borderWidth","borderColor","borderRadius","width","paddingHorizontal","marginBottom"],"sources":["/Users/hanyang/Orbital2022/components/profile/ProfileForm.js"],"sourcesContent":["import {\n    Text, \n    StyleSheet,\n    View,\n    TextInput,\n} from 'react-native';\n\nimport { useContext, useState } from 'react';\n\nimport { supabase } from '../../utils/supabase';\n\nimport { UserContext } from '../../contexts/userContext';\n\nimport OutlinedButton from '../Buttons/OutlinedButton';\n\nconst THEME = '#3F3F3F';\n\n\nconst ProfileForm = ({ onPressHandler }) => {\n\n    const [details, setDetails] = useState('');\n\n    const { user } = useContext(UserContext);\n\n    const onUpdateHandler = async () => {\n\n        const { error, data } = await supabase\n            .from('users')\n            .upsert({ \n                status: details,\n                id: user.id\n             })\n\n            onPressHandler()\n    }\n    \n\n    return (\n        \n        <View style={styles.container}>\n\n            <Text style = {styles.title}>Update your status!</Text>\n\n            <TextInput\n                style={styles.additionalDetails}\n                placeholder='About me: looking for mj kaki' \n                value={details}\n                onChangeText={setDetails}\n                selectionColor={THEME}\n            />\n\n            <View style = {styles.buttons}>\n                <OutlinedButton icon=\"pencil\" onPress={onUpdateHandler}>Update </OutlinedButton>\n                <OutlinedButton icon=\"close\" onPress={onPressHandler}>Cancel</OutlinedButton>\n            </View>\n\n        </View>\n    )\n}\n\nexport default ProfileForm; \n\nconst styles = StyleSheet.create({\n\n    container: {\n        backgroundColor: \"white\" ,\n        height: '100%',\n        justifyContent: 'center',\n    \n        //alignItems: 'center',\n    },\n\n    title:{\n        justifyContent:'center',\n        alignItems: 'center',\n        marginLeft:100,\n        paddingBottom:20\n\n\n    },\n\n    buttons:{\n        flexDirection:'row',\n        justifyContent:'space-evenly'\n        \n    },\n\n    additionalDetails: {\n        alignSelf: 'center',\n        borderWidth: 2,\n        borderColor: THEME, \n        borderRadius: 4, \n        width: '80%',\n        height: 120, \n        paddingHorizontal: 8, \n        marginBottom: 10\n\n    }\n});"],"mappings":";;;;;;AAOA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AAEA,SAASC,QAAT;AAEA,SAASC,WAAT;AAEA,OAAOC,cAAP;;;AAEA,IAAMC,KAAK,GAAG,SAAd;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAwB;EAAA,IAArBC,cAAqB,QAArBA,cAAqB;;EAExC,gBAA8BN,QAAQ,CAAC,EAAD,CAAtC;EAAA;EAAA,IAAOO,OAAP;EAAA,IAAgBC,UAAhB;;EAEA,kBAAiBT,UAAU,CAACG,WAAD,CAA3B;EAAA,IAAQO,IAAR,eAAQA,IAAR;;EAEA,IAAMC,eAAe,GAAG;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCAEUT,QAAQ,CACjCU,IADyB,CACpB,OADoB,EAEzBC,MAFyB,CAElB;cACJC,MAAM,EAAEN,OADJ;cAEJO,EAAE,EAAEL,IAAI,CAACK;YAFL,CAFkB,CAFV;;UAAA;YAAA;YAEZC,KAFY,yBAEZA,KAFY;YAELC,IAFK,yBAELA,IAFK;YAShBV,cAAc;;UATE;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAxB;;EAaA,OAEI,MAAC,IAAD;IAAM,KAAK,EAAEW,MAAM,CAACC,SAApB;IAAA,WAEI,KAAC,IAAD;MAAM,KAAK,EAAID,MAAM,CAACE,KAAtB;MAAA;IAAA,EAFJ,EAII,KAAC,SAAD;MACI,KAAK,EAAEF,MAAM,CAACG,iBADlB;MAEI,WAAW,EAAC,+BAFhB;MAGI,KAAK,EAAEb,OAHX;MAII,YAAY,EAAEC,UAJlB;MAKI,cAAc,EAAEJ;IALpB,EAJJ,EAYI,MAAC,IAAD;MAAM,KAAK,EAAIa,MAAM,CAACI,OAAtB;MAAA,WACI,KAAC,cAAD;QAAgB,IAAI,EAAC,QAArB;QAA8B,OAAO,EAAEX,eAAvC;QAAA;MAAA,EADJ,EAEI,KAAC,cAAD;QAAgB,IAAI,EAAC,OAArB;QAA6B,OAAO,EAAEJ,cAAtC;QAAA;MAAA,EAFJ;IAAA,EAZJ;EAAA,EAFJ;AAqBH,CAxCD;;AA0CA,eAAeD,WAAf;AAEA,IAAMY,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;EAE7BL,SAAS,EAAE;IACPM,eAAe,EAAE,OADV;IAEPC,MAAM,EAAE,MAFD;IAGPC,cAAc,EAAE;EAHT,CAFkB;EAU7BP,KAAK,EAAC;IACFO,cAAc,EAAC,QADb;IAEFC,UAAU,EAAE,QAFV;IAGFC,UAAU,EAAC,GAHT;IAIFC,aAAa,EAAC;EAJZ,CAVuB;EAmB7BR,OAAO,EAAC;IACJS,aAAa,EAAC,KADV;IAEJJ,cAAc,EAAC;EAFX,CAnBqB;EAyB7BN,iBAAiB,EAAE;IACfW,SAAS,EAAE,QADI;IAEfC,WAAW,EAAE,CAFE;IAGfC,WAAW,EAAE7B,KAHE;IAIf8B,YAAY,EAAE,CAJC;IAKfC,KAAK,EAAE,KALQ;IAMfV,MAAM,EAAE,GANO;IAOfW,iBAAiB,EAAE,CAPJ;IAQfC,YAAY,EAAE;EARC;AAzBU,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}