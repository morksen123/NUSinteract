{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { supabase } from \"../utils/supabase\";\nimport { useContext, useState, useEffect } from 'react';\nimport RequestCard from \"../components/hostActivity/RequestCard\";\nimport { UserContext } from \"../contexts/userContext\";\nimport { ActivityIndicator } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar RequestScreen = function RequestScreen() {\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      hostActivityData = _useState2[0],\n      setHostActivityData = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    var getHostActivityData = function _callee() {\n      var _await$supabase$from$, error, data;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(supabase.from('joinActivity').select('*, hostActivity!inner(*), users!joinActivity_user_id_fkey(username)').eq('hostActivity.user_id', user.id).eq('accepted', 'pending'));\n\n            case 2:\n              _await$supabase$from$ = _context.sent;\n              error = _await$supabase$from$.error;\n              data = _await$supabase$from$.data;\n              setHostActivityData(data);\n              setLoading(false);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    getHostActivityData();\n  }, []);\n  return _jsx(ScrollView, {\n    children: _jsxs(SafeAreaView, {\n      children: [_jsx(Text, {\n        style: styles.joinedTitle,\n        children: \"REQUESTS TO JOIN MY ACTIVITIES\"\n      }), loading ? _jsx(ActivityIndicator, {\n        animating: true,\n        color: \"red\"\n      }) : hostActivityData.map(function (activity) {\n        var activity_id = activity.activity_id,\n            user_id = activity.user_id,\n            activity_details = activity.hostActivity.activity_details,\n            username = activity.users.username;\n        return _jsx(RequestCard, {\n          id: activity.id,\n          username: username,\n          title: activity_details.title,\n          userID: user_id,\n          activityID: activity_id,\n          hostActivityData: hostActivityData,\n          setHostActivityData: setHostActivityData\n        }, activity.id);\n      })]\n    })\n  });\n};\n\nexport default RequestScreen;\nvar styles = StyleSheet.create({\n  button: {\n    marginLeft: 10,\n    padding: 5,\n    borderRadius: 20\n  },\n  joinedTitle: {\n    marginTop: 20,\n    paddingHorizontal: 10,\n    borderWidth: 4,\n    borderColor: \"#20232a\",\n    borderRadius: 6,\n    backgroundColor: '#7FFFD4',\n    color: \"#20232a\",\n    textAlign: \"center\",\n    fontSize: 30,\n    fontWeight: \"bold\",\n    fontFamily: \"AvenirNext-Italic\"\n  }\n});","map":{"version":3,"names":["supabase","useContext","useState","useEffect","RequestCard","UserContext","ActivityIndicator","RequestScreen","user","hostActivityData","setHostActivityData","loading","setLoading","getHostActivityData","from","select","eq","id","error","data","styles","joinedTitle","map","activity","activity_id","user_id","activity_details","hostActivity","username","users","title","StyleSheet","create","button","marginLeft","padding","borderRadius","marginTop","paddingHorizontal","borderWidth","borderColor","backgroundColor","color","textAlign","fontSize","fontWeight","fontFamily"],"sources":["/Users/hanyang/Orbital2022/screens/RequestScreen.js"],"sourcesContent":["import { StyleSheet, SafeAreaView, Text, ScrollView } from 'react-native';\n\nimport { supabase } from '../utils/supabase';\n\nimport { useContext, useState, useEffect } from 'react';\n\nimport RequestCard from '../components/hostActivity/RequestCard';\n\nimport { UserContext } from '../contexts/userContext';\n\nimport { ActivityIndicator } from 'react-native-paper';\n\nconst RequestScreen = () => {\n\n    const { user } = useContext(UserContext);\n\n    const [hostActivityData, setHostActivityData] = useState([])\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n\n        const getHostActivityData = async () => {\n            const { error, data } = await supabase\n                .from('joinActivity')\n                .select('*, hostActivity!inner(*), users!joinActivity_user_id_fkey(username)')\n                .eq('hostActivity.user_id', user.id )\n                .eq('accepted', 'pending')  \n\n            setHostActivityData(data)\n            setLoading(false)\n        }\n\n        getHostActivityData() \n\n    }, [])\n\n\n    return (\n        <ScrollView> \n            <SafeAreaView>\n\n                <Text style={styles.joinedTitle}>REQUESTS TO JOIN MY ACTIVITIES</Text>\n                \n                { \n                    loading ? <ActivityIndicator animating={true} color='red'/> : \n\n                    hostActivityData.map((activity) => {\n\n                        const { \n                            activity_id,\n                            user_id,\n                            hostActivity: { activity_details },\n                            users: { username } \n                        } = activity;\n\n                        return (\n                            <RequestCard\n                                key={activity.id}\n                                id={activity.id}\n                                username={username}\n                                title={activity_details.title}\n                                userID={user_id}\n                                activityID={activity_id}\n                                hostActivityData={hostActivityData}\n                                setHostActivityData={setHostActivityData}                    \n                            />\n                        )\n                    })\n                }            \n            \n            </SafeAreaView> \n        </ScrollView>\n    )\n};\n\nexport default RequestScreen;\n\nconst styles = StyleSheet.create({\n    button: {\n        marginLeft: 10,\n        padding: 5,\n        borderRadius: 20,\n    },\n    joinedTitle: {\n        marginTop: 20,\n        paddingHorizontal: 10,\n        borderWidth: 4,\n        borderColor: \"#20232a\",\n        borderRadius: 6,\n        backgroundColor: '#7FFFD4',\n        color: \"#20232a\",\n        textAlign: \"center\",\n        fontSize: 30,\n        fontWeight: \"bold\",\n        fontFamily: \"AvenirNext-Italic\",\n    }\n})"],"mappings":";;;;;;AAEA,SAASA,QAAT;AAEA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,SAA/B,QAAgD,OAAhD;AAEA,OAAOC,WAAP;AAEA,SAASC,WAAT;AAEA,SAASC,iBAAT,QAAkC,oBAAlC;;;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;EAExB,kBAAiBN,UAAU,CAACI,WAAD,CAA3B;EAAA,IAAQG,IAAR,eAAQA,IAAR;;EAEA,gBAAgDN,QAAQ,CAAC,EAAD,CAAxD;EAAA;EAAA,IAAOO,gBAAP;EAAA,IAAyBC,mBAAzB;;EACA,iBAA8BR,QAAQ,CAAC,IAAD,CAAtC;EAAA;EAAA,IAAOS,OAAP;EAAA,IAAgBC,UAAhB;;EAEAT,SAAS,CAAC,YAAM;IAEZ,IAAMU,mBAAmB,GAAG;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCACMb,QAAQ,CACjCc,IADyB,CACpB,cADoB,EAEzBC,MAFyB,CAElB,qEAFkB,EAGzBC,EAHyB,CAGtB,sBAHsB,EAGER,IAAI,CAACS,EAHP,EAIzBD,EAJyB,CAItB,UAJsB,EAIV,SAJU,CADN;;YAAA;cAAA;cAChBE,KADgB,yBAChBA,KADgB;cACTC,IADS,yBACTA,IADS;cAOxBT,mBAAmB,CAACS,IAAD,CAAnB;cACAP,UAAU,CAAC,KAAD,CAAV;;YARwB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAA5B;;IAWAC,mBAAmB;EAEtB,CAfQ,EAeN,EAfM,CAAT;EAkBA,OACI,KAAC,UAAD;IAAA,UACI,MAAC,YAAD;MAAA,WAEI,KAAC,IAAD;QAAM,KAAK,EAAEO,MAAM,CAACC,WAApB;QAAA;MAAA,EAFJ,EAKQV,OAAO,GAAG,KAAC,iBAAD;QAAmB,SAAS,EAAE,IAA9B;QAAoC,KAAK,EAAC;MAA1C,EAAH,GAEPF,gBAAgB,CAACa,GAAjB,CAAqB,UAACC,QAAD,EAAc;QAE/B,IACIC,WADJ,GAKID,QALJ,CACIC,WADJ;QAAA,IAEIC,OAFJ,GAKIF,QALJ,CAEIE,OAFJ;QAAA,IAGoBC,gBAHpB,GAKIH,QALJ,CAGII,YAHJ,CAGoBD,gBAHpB;QAAA,IAIaE,QAJb,GAKIL,QALJ,CAIIM,KAJJ,CAIaD,QAJb;QAOA,OACI,KAAC,WAAD;UAEI,EAAE,EAAEL,QAAQ,CAACN,EAFjB;UAGI,QAAQ,EAAEW,QAHd;UAII,KAAK,EAAEF,gBAAgB,CAACI,KAJ5B;UAKI,MAAM,EAAEL,OALZ;UAMI,UAAU,EAAED,WANhB;UAOI,gBAAgB,EAAEf,gBAPtB;UAQI,mBAAmB,EAAEC;QARzB,GACSa,QAAQ,CAACN,EADlB,CADJ;MAYH,CArBD,CAPR;IAAA;EADJ,EADJ;AAoCH,CA7DD;;AA+DA,eAAeV,aAAf;AAEA,IAAMa,MAAM,GAAGW,UAAU,CAACC,MAAX,CAAkB;EAC7BC,MAAM,EAAE;IACJC,UAAU,EAAE,EADR;IAEJC,OAAO,EAAE,CAFL;IAGJC,YAAY,EAAE;EAHV,CADqB;EAM7Bf,WAAW,EAAE;IACTgB,SAAS,EAAE,EADF;IAETC,iBAAiB,EAAE,EAFV;IAGTC,WAAW,EAAE,CAHJ;IAITC,WAAW,EAAE,SAJJ;IAKTJ,YAAY,EAAE,CALL;IAMTK,eAAe,EAAE,SANR;IAOTC,KAAK,EAAE,SAPE;IAQTC,SAAS,EAAE,QARF;IASTC,QAAQ,EAAE,EATD;IAUTC,UAAU,EAAE,MAVH;IAWTC,UAAU,EAAE;EAXH;AANgB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}