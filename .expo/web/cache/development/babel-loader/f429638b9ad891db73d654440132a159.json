{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useCallback, useContext, useState } from 'react';\nimport LocationPicker from \"./LocationPicker\";\nimport { UserContext } from \"../../contexts/userContext\";\nimport { supabase } from \"../../utils/supabase\";\nimport OutlinedButton from \"../Buttons/OutlinedButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar THEME = '#3F3F3F';\n\nvar HostActivityForm = function HostActivityForm(_ref) {\n  var onPressHandler = _ref.onPressHandler;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      enteredTitle = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      enteredTime = _useState4[0],\n      setTime = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      enteredDetails = _useState6[0],\n      setDetails = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pickedLocation = _useState8[0],\n      setPickedLocation = _useState8[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  function HostActivityHandler() {\n    var _await$supabase$from$, data, error;\n\n    return _regeneratorRuntime.async(function HostActivityHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(supabase.from('hostActivity').insert([{\n              user_id: user.id,\n              coordinates: {\n                latitude: pickedLocation.lat,\n                longitude: pickedLocation.lng\n              },\n              activity_details: {\n                title: enteredTitle,\n                time: enteredTime,\n                details: enteredDetails,\n                location_details: pickedLocation.address\n              }\n            }]));\n\n          case 2:\n            _await$supabase$from$ = _context.sent;\n            data = _await$supabase$from$.data;\n            error = _await$supabase$from$.error;\n            onPressHandler();\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function changeTitleHandler(enteredTitle) {\n    setTitle(enteredTitle);\n  }\n\n  function changeTimeHandler(enteredTime) {\n    setTime(enteredTime);\n  }\n\n  function changeDetailsHandler(enteredDetails) {\n    setDetails(enteredDetails);\n  }\n\n  var pickLocationHandler = useCallback(function (location) {\n    setPickedLocation(location);\n  }, []);\n  return _jsx(ScrollView, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        children: \"Activity Name\"\n      }), _jsx(View, {\n        style: styles.pad,\n        children: _jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"e.g MAHJONG SESSION\",\n          value: enteredTitle,\n          onChangeText: changeTitleHandler,\n          selectionColor: THEME,\n          required: true\n        })\n      }), _jsx(Text, {\n        children: \"Time Of Activity\"\n      }), _jsx(View, {\n        style: styles.pad,\n        children: _jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"e.g 2pm\",\n          value: enteredTime,\n          onChangeText: changeTimeHandler,\n          selectionColor: THEME\n        })\n      }), _jsx(Text, {\n        children: \"Additional Details About Activity\"\n      }), _jsx(View, {\n        style: styles.pad,\n        children: _jsx(TextInput, {\n          style: styles.additionalDetails,\n          placeholder: \"e.g Basketball Session, 4 Pax\",\n          value: enteredDetails,\n          onChangeText: changeDetailsHandler,\n          selectionColor: THEME\n        })\n      }), _jsx(Text, {\n        children: \"Location Of Activity\"\n      }), _jsx(View, {\n        style: styles.padlocation,\n        children: _jsx(LocationPicker, {\n          onPickLocation: pickLocationHandler\n        })\n      }), _jsxs(View, {\n        style: styles.buttons,\n        children: [_jsx(View, {\n          style: styles.hostActivity,\n          children: _jsx(OutlinedButton, {\n            icon: \"people-circle\",\n            onPress: HostActivityHandler,\n            children: \"Confirm Activity\"\n          })\n        }), _jsx(View, {\n          style: styles.cancelActivity,\n          children: _jsx(OutlinedButton, {\n            icon: \"close\",\n            onPress: onPressHandler,\n            children: \"Cancel Form\"\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default HostActivityForm;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'white',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10\n  },\n  pad: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    width: \"100%\"\n  },\n  padlocation: {\n    paddingTop: 10,\n    width: \"100%\"\n  },\n  textInput: {\n    alignSelf: 'center',\n    borderWidth: 2,\n    borderColor: THEME,\n    borderRadius: 4,\n    width: '80%',\n    height: 40,\n    paddingHorizontal: 8,\n    marginBottom: 10\n  },\n  additionalDetails: {\n    alignSelf: 'center',\n    borderWidth: 2,\n    borderColor: THEME,\n    borderRadius: 4,\n    width: '80%',\n    height: 80,\n    paddingHorizontal: 8,\n    marginBottom: 10\n  },\n  buttons: {\n    flexDirection: 'row'\n  },\n  hostActivity: {\n    marginRight: 16\n  },\n  cancelActivity: {}\n});","map":{"version":3,"names":["useCallback","useContext","useState","LocationPicker","UserContext","supabase","OutlinedButton","THEME","HostActivityForm","onPressHandler","enteredTitle","setTitle","enteredTime","setTime","enteredDetails","setDetails","pickedLocation","setPickedLocation","user","HostActivityHandler","from","insert","user_id","id","coordinates","latitude","lat","longitude","lng","activity_details","title","time","details","location_details","address","data","error","changeTitleHandler","changeTimeHandler","changeDetailsHandler","pickLocationHandler","location","styles","container","pad","textInput","additionalDetails","padlocation","buttons","hostActivity","cancelActivity","StyleSheet","create","backgroundColor","height","justifyContent","alignItems","marginBottom","paddingTop","paddingBottom","width","alignSelf","borderWidth","borderColor","borderRadius","paddingHorizontal","flexDirection","marginRight"],"sources":["/Users/hanyang/Orbital2022/components/hostActivity/HostActivityForm.js"],"sourcesContent":["import {\n    ScrollView, \n    StyleSheet,\n    View,\n    Text,\n    TextInput,\n} from 'react-native';\n\nimport { useCallback, useContext, useState } from 'react';\n\nimport LocationPicker from './LocationPicker';\n\nimport { UserContext } from '../../contexts/userContext';\n\nimport { supabase } from '../../utils/supabase';\n\nimport OutlinedButton from '../Buttons/OutlinedButton';\n\nconst THEME = '#3F3F3F';\n\n\nconst HostActivityForm = ({ onPressHandler }) => {\n\n    const [enteredTitle, setTitle] = useState('');\n    const [enteredTime, setTime] = useState('');\n    const [enteredDetails, setDetails] = useState('');    \n    const [pickedLocation, setPickedLocation] = useState();\n\n    const { user } = useContext(UserContext) ;\n\n    async function HostActivityHandler() {\n\n        const { data, error } = await supabase\n            .from('hostActivity')\n            .insert([{\n                user_id: user.id,\n                coordinates: {\n                    latitude: pickedLocation.lat, \n                    longitude: pickedLocation.lng\n                },\n                activity_details: {\n                    title: enteredTitle,\n                    time: enteredTime,\n                    details: enteredDetails,  \n                    location_details: pickedLocation.address,\n                }\n            }])\n\n            onPressHandler();\n    }\n\n        \n    function changeTitleHandler(enteredTitle) {\n        setTitle(enteredTitle);\n    }\n\n    function changeTimeHandler(enteredTime) {\n        setTime(enteredTime);\n    }\n    function changeDetailsHandler(enteredDetails) {\n        setDetails(enteredDetails);\n    }\n\n    const pickLocationHandler = useCallback ((location) => {\n        setPickedLocation(location);\n    }, []);\n\n\n    return (\n        <ScrollView>\n\n            <View style={styles.container}>\n                <Text>\n                    Activity Name\n                </Text>\n                <View style = {styles.pad}>\n                    <TextInput\n                        style={styles.textInput}\n                        placeholder='e.g MAHJONG SESSION' \n                        value={enteredTitle}\n                        onChangeText={changeTitleHandler}\n                        selectionColor={THEME}\n                        required\n                    />\n                \n                </View>\n\n                <Text>\n                    Time Of Activity\n                </Text>\n                <View style = {styles.pad}>\n                    <TextInput\n                        style={styles.textInput}\n                        placeholder='e.g 2pm' \n                        value={enteredTime}\n                        onChangeText={changeTimeHandler}\n                        selectionColor={THEME}\n                    />\n             \n                </View>\n                <Text>\n                    Additional Details About Activity\n                </Text>\n                <View style = {styles.pad}>\n                    <TextInput\n                        style={styles.additionalDetails}\n                        placeholder='e.g Basketball Session, 4 Pax' \n                        value={enteredDetails}\n                        onChangeText={changeDetailsHandler}\n                        selectionColor={THEME}\n                    />\n\n                </View>\n                <Text >\n                    Location Of Activity\n                </Text>\n\n                <View style = {styles.padlocation} >\n                    <LocationPicker onPickLocation={pickLocationHandler}/>\n                </View>\n\n                <View style = {styles.buttons}>\n                    <View style = {styles.hostActivity}>           \n                        <OutlinedButton\n                            icon=\"people-circle\"\n                            onPress = {HostActivityHandler}\n                        >\n                        Confirm Activity\n                        </OutlinedButton> \n                    </View>  \n                    \n                    <View style = {styles.cancelActivity}>\n                        <OutlinedButton\n                            icon=\"close\"\n                            onPress = {onPressHandler}\n                        >\n                            Cancel Form\n                        </OutlinedButton> \n                    </View>\n\n                </View>\n\n            </View>\n        </ScrollView>\n\n    )\n}\n\nexport default HostActivityForm; \n\nconst styles = StyleSheet.create({\n\n    container: {\n        backgroundColor: 'white',\n        height: '100%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginBottom: 10,\n        \n    },\n\n    pad: {\n        paddingTop:10,\n        paddingBottom:10,\n        width: \"100%\"\n    },\n\n    padlocation: {\n        paddingTop:10,\n        width: \"100%\"\n    },\n\n    textInput: {\n        alignSelf: 'center',\n        borderWidth: 2,\n        borderColor: THEME, \n        borderRadius: 4, \n        width: '80%',\n        height: 40, \n        paddingHorizontal: 8, \n        marginBottom: 10\n    },\n\n    additionalDetails: {\n        alignSelf: 'center',\n        borderWidth: 2,\n        borderColor: THEME, \n        borderRadius: 4, \n        width: '80%',\n        height: 80, \n        paddingHorizontal: 8, \n        marginBottom: 10\n\n    },\n\n    buttons : {\n        flexDirection:'row',\n\n    },\n\n    hostActivity:{\n        marginRight: 16\n\n    },\n\n    cancelActivity:{\n        //marginRight:\n    }\n\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}