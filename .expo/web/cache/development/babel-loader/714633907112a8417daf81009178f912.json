{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { supabase } from \"../utils/supabase\";\nimport { useState } from 'react';\nimport Messages from \"../components/messages/messages\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar THEME = '#3F3F3F';\n\nvar ChatScreen = function ChatScreen() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var onPressHandler = function _callee() {\n    var _await$supabase$from$, error, data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(supabase.from('messages').insert({\n              content: message,\n              user_id: supabase.auth.user().id\n            }));\n\n          case 2:\n            _await$supabase$from$ = _context.sent;\n            error = _await$supabase$from$.error;\n            data = _await$supabase$from$.data;\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'flex-start'\n    },\n    children: [_jsx(Text, {\n      children: \"Chat Screen\"\n    }), _jsx(TextInput, {\n      style: styles.textInput,\n      selectionColor: THEME,\n      value: message,\n      onChangeText: setMessage\n    }), _jsx(Button, {\n      onPress: onPressHandler,\n      title: \"Send Message\"\n    }), _jsx(Messages, {})]\n  });\n};\n\nexport default ChatScreen;\nvar styles = StyleSheet.create({\n  textInput: {\n    alignSelf: 'center',\n    borderWidth: 2,\n    borderColor: THEME,\n    borderRadius: 4,\n    width: '90%',\n    height: 40,\n    paddingHorizontal: 8\n  },\n  title: {\n    fontSize: 35,\n    fontFamily: \"AvenirNext-Italic\",\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  boldText: {\n    fontWeight: '500'\n  }\n});","map":{"version":3,"names":["supabase","useState","Messages","THEME","ChatScreen","message","setMessage","onPressHandler","from","insert","content","user_id","auth","user","id","error","data","flex","alignItems","justifyContent","styles","textInput","StyleSheet","create","alignSelf","borderWidth","borderColor","borderRadius","width","height","paddingHorizontal","title","fontSize","fontFamily","textAlign","marginBottom","boldText","fontWeight"],"sources":["/Users/hanyang/Orbital2022/screens/ChatScreen.js"],"sourcesContent":["import {\n    Text, \n    View,\n    SafeAreaView, \n    TextInput, \n    StyleSheet, \n    Button \n} from 'react-native';\nimport { supabase } from '../utils/supabase';\nimport { useState } from 'react';\n\nimport Messages from '../components/messages/messages';\n\nconst THEME = '#3F3F3F'\n\nconst ChatScreen = () => {\n\n    const [message, setMessage] = useState(''); \n\n    const onPressHandler = async () => {\n\n        const { error, data } = await supabase\n            .from('messages')\n            .insert({ \n                content: message,\n                user_id: supabase.auth.user().id\n             })\n\n            //  console.log({ error, data })\n    }\n    return (\n        <SafeAreaView style={{ flex: 1, alignItems: 'center', justifyContent: 'flex-start' }}>\n            <Text>Chat Screen</Text>\n            \n            <TextInput \n                style={styles.textInput}\n                selectionColor={THEME}\n                value={message}\n                onChangeText={setMessage}\n            />\n\n            <Button onPress={onPressHandler} title=\"Send Message\"/>\n            <Messages/>\n            \n        </SafeAreaView>  \n    )\n}\n\nexport default ChatScreen; \n\n\nconst styles = StyleSheet.create({\n\n    textInput: {\n        alignSelf: 'center',\n        borderWidth: 2,\n        borderColor: THEME, \n        borderRadius: 4, \n        width: '90%',\n        height: 40, \n        paddingHorizontal: 8, \n    },\n\n    \n    title: {\n        fontSize: 35, \n        fontFamily: \"AvenirNext-Italic\",\n        textAlign: 'center',\n        marginBottom: 20\n    },\n\n    boldText: {\n        fontWeight: '500'\n    }\n});\n"],"mappings":";;;;;;;;AAQA,SAASA,QAAT;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAOC,QAAP;;;AAEA,IAAMC,KAAK,GAAG,SAAd;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;EAErB,gBAA8BH,QAAQ,CAAC,EAAD,CAAtC;EAAA;EAAA,IAAOI,OAAP;EAAA,IAAgBC,UAAhB;;EAEA,IAAMC,cAAc,GAAG;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCAEWP,QAAQ,CACjCQ,IADyB,CACpB,UADoB,EAEzBC,MAFyB,CAElB;cACJC,OAAO,EAAEL,OADL;cAEJM,OAAO,EAAEX,QAAQ,CAACY,IAAT,CAAcC,IAAd,GAAqBC;YAF1B,CAFkB,CAFX;;UAAA;YAAA;YAEXC,KAFW,yBAEXA,KAFW;YAEJC,IAFI,yBAEJA,IAFI;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAvB;;EAWA,OACI,MAAC,YAAD;IAAc,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,UAAU,EAAE,QAAvB;MAAiCC,cAAc,EAAE;IAAjD,CAArB;IAAA,WACI,KAAC,IAAD;MAAA;IAAA,EADJ,EAGI,KAAC,SAAD;MACI,KAAK,EAAEC,MAAM,CAACC,SADlB;MAEI,cAAc,EAAElB,KAFpB;MAGI,KAAK,EAAEE,OAHX;MAII,YAAY,EAAEC;IAJlB,EAHJ,EAUI,KAAC,MAAD;MAAQ,OAAO,EAAEC,cAAjB;MAAiC,KAAK,EAAC;IAAvC,EAVJ,EAWI,KAAC,QAAD,KAXJ;EAAA,EADJ;AAgBH,CA/BD;;AAiCA,eAAeH,UAAf;AAGA,IAAMgB,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;EAE7BF,SAAS,EAAE;IACPG,SAAS,EAAE,QADJ;IAEPC,WAAW,EAAE,CAFN;IAGPC,WAAW,EAAEvB,KAHN;IAIPwB,YAAY,EAAE,CAJP;IAKPC,KAAK,EAAE,KALA;IAMPC,MAAM,EAAE,EAND;IAOPC,iBAAiB,EAAE;EAPZ,CAFkB;EAa7BC,KAAK,EAAE;IACHC,QAAQ,EAAE,EADP;IAEHC,UAAU,EAAE,mBAFT;IAGHC,SAAS,EAAE,QAHR;IAIHC,YAAY,EAAE;EAJX,CAbsB;EAoB7BC,QAAQ,EAAE;IACNC,UAAU,EAAE;EADN;AApBmB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}